const colorSelect=document.getElementById("color-select"),json={};function getCookie(t){let o=null;if(document.cookie&&""!==document.cookie){const e=document.cookie.split(";");for(let n=0;n<e.length;n++){const c=e[n].trim();if(c.substring(0,t.length+1)===t+"="){o=decodeURIComponent(c.substring(t.length+1));break}}}return o}document.querySelectorAll(".tooth-section, .tooth-center").forEach((t=>{t.addEventListener("click",(function(){const o=colorSelect.value,e=t.parentElement.getAttribute("data-tooth"),n=t.classList.contains("up")?"up":t.classList.contains("down")?"down":t.classList.contains("left")?"left":t.classList.contains("right")?"right":"center";t.style.backgroundColor=t.style.backgroundColor===o?"":o,json[e]=json[e]||{up:"",down:"",left:"",right:"",center:""},json[e][n]=t.style.backgroundColor,console.log(JSON.stringify(json))}))})),document.getElementById("save-button").addEventListener("click",(function(){const t=new Date,o=`odontograma_123_${`${t.getDate()}-${t.getMonth()+1}-${t.getFullYear()}-${t.getHours()}-${t.getMinutes()}`}.json`;fetch("/save_odontogram/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":getCookie("csrftoken")},body:JSON.stringify({fileName:o,data:json})}).then((t=>t.json())).then((t=>{console.log("Success:",t)})).catch((t=>{console.error("Error:",t)}))}));